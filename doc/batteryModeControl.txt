# @iseeberg79/battery-mode-control

## BatteryModeControl Node

Dieser Node steuert den Batteriemodus oder das Grid Charge Limit basierend auf den bereitgestellten Daten der **evcc API**.

### Konfigurationsparameter

- **Name**: Der Name des Nodes.
- **URL**: Die API-URL für den Batteriemodus (z.B. `http://localhost:7070/api/batterymode`).
- **Grid Charge URL**: Die API-URL für das Grid Charge Limit (`http://localhost:7070/api/batterygridchargelimit`).
- **Intervall**: Die Zeitspanne (in Sekunden) für wiederholtes Senden des Batteriemodus („hold“ oder „charge“).
- **Wiederholung aktivieren**: Falls aktiviert, wird der Batteriemodus regelmäßig erneut gesendet.

### Eingänge und Ausgänge

- **Inputs**: 1  
- **Outputs**: 1  

### Verwendung

1. Fügen Sie den Node zu Ihrem Flow hinzu.  
2. Konfigurieren Sie die erforderlichen Parameter (`name`, `url`, `gridChargeUrl`, `interval`, `repeatMode`).  
3. Verbinden Sie den Node mit anderen Nodes in Ihrem Flow.  

### Wichtige Hinweise

- **Entweder `mode` oder `gridChargeLimit` muss gesetzt sein – beide zusammen sind nicht erlaubt.**
- `mode` steuert den Batteriemodus (`POST` oder `DELETE` für externe Kontrolle).
- `gridChargeLimit` setzt oder entfernt das Grid Charge Limit (`POST` oder `DELETE`).

### Beispiel

```json
[
    {
        "id": "837de17bbbd230b2",
        "type": "@iseeberg79/BatteryModeControl",
        "name": "BatteryModeControl",
        "url": "http://localhost:7070/api/batterymode",
        "gridChargeUrl": "http://localhost:7070/api/batterygridchargelimit",
        "interval": 30,
        "repeatMode": true,
        "wires": [
            ["261d217663924080"]
        ]
    }
]
