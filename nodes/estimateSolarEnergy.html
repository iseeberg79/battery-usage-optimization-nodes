<script type="text/javascript">
	RED.nodes.registerType('@iseeberg79/EstimateSolarEnergy', {
		category : 'function',
		color : '#a6bbcf',
		defaults : {
			name : {
				value : ""
			}
		},
		inputs : 1,
		outputs : 1,
		icon : "file.png",
		label : function() {
			return this.name || "Estimate Solar Energy";
		}
	});
</script>

<script type="text/x-red"
	data-template-name="@iseeberg79/EstimateSolarEnergy">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red"
    data-help-name="@iseeberg79/EstimateSolarEnergy">
    <p>Dieser Node schätzt die Solarenergie basierend auf den bereitgestellten Prognosen, stündlich</p>
    <p><b>Inputs:</b></p>
    <ul>
        <li><b>payload.forecasts</b> - Array der Solarprognosen</li>
    </ul>
    <p><b>Beispiel für eine Forecast-Nachricht:</b></p>
    <pre>
    {
        "forecasts": [
            {"pv_estimate": 0.1, "period_end": "2025-02-15T08:00:00Z"},
            {"pv_estimate": 0.5, "period_end": "2025-02-15T12:00:00Z"},
            {"pv_estimate": 0.2, "period_end": "2025-02-15T16:00:00Z"}
        ]
    }
    </pre>
    <p><b>Outputs:</b></p>
    <ul>
        <li><b>payload.today</b> - geschätzte Solarenergie für heute</li>
        <li><b>payload.remain</b> - verbleibende Solarenergie für heute</li>
        <li><b>payload.tomorrow</b> - geschätzte Solarenergie für morgen</li>
    </ul>
</script>

