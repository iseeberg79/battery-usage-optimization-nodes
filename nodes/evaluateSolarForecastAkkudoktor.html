<script type="text/javascript">
    RED.nodes.registerType('@iseeberg79/EvaluateSolarForecastAkkudoktor', {
        category: 'function',
        color: '#a6bbcf',
        defaults: {
            name: { value: "" },
            baseUrl: { value: "https://api.akkudoktor.net/forecast" },
            lat: { value: 55.45 },
            lon: { value: 8.14 },
            azimuth: { value: 0 },
            tilt: { value: 35 },
            power: { value: 11 },
            albedo: { value: 0.2 },
            powerInverter: { value: 10000 },
            inverterEfficiency: { value: 1 }
        },
        inputs: 1,
        outputs: 1,
        icon: "file.png",
        label: function() {
            return this.name || "Evaluate Solar Forecast Akkudoktor";
        }
    });
</script>

<script type="text/x-red" data-template-name="@iseeberg79/EvaluateSolarForecastAkkudoktor">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-baseUrl"><i class="fa fa-link"></i> Base URL</label>
        <input type="text" id="node-input-baseUrl" placeholder="https://api.akkudoktor.net/forecast">
    </div>
    <div class="form-row">
        <label for="node-input-lat"><i class="fa fa-map-marker"></i> Latitude</label>
        <input type="number" id="node-input-lat" placeholder="55.45">
    </div>
    <div class="form-row">
        <label for="node-input-lon"><i class="fa fa-map-marker"></i> Longitude</label>
        <input type="number" id="node-input-lon" placeholder="8.14">
    </div>
    <div class="form-row">
        <label for="node-input-azimuth"><i class="fa fa-compass"></i> Azimuth</label>
        <input type="number" id="node-input-azimuth" placeholder="0">
    </div>
    <div class="form-row">
        <label for="node-input-tilt"><i class="fa fa-angle-up"></i> Tilt</label>
        <input type="number" id="node-input-tilt" placeholder="35">
    </div>
    <div class="form-row">
        <label for="node-input-power"><i class="fa fa-bolt"></i> Power</label>
        <input type="number" id="node-input-power" placeholder="11">
    </div>
    <div class="form-row">
        <label for="node-input-albedo"><i class="fa fa-sun-o"></i> Albedo</label>
        <input type="number" id="node-input-albedo" placeholder="0.2">
    </div>
    <div class="form-row">
        <label for="node-input-powerInverter"><i class="fa fa-bolt"></i> Power Inverter</label>
        <input type="number" id="node-input-powerInverter" placeholder="10000">
    </div>
    <div class="form-row">
        <label for="node-input-inverterEfficiency"><i class="fa fa-battery-full"></i> Inverter Efficiency</label>
        <input type="number" id="node-input-inverterEfficiency" placeholder="1">
    </div>
</script>

<script type="text/x-red" data-help-name="@iseeberg79/EvaluateSolarForecastAkkudoktor">
    <p>Dieser Node wertet die PV-Generationsdaten basierend auf den bereitgestellten Wettervorhersagen oder archivierten Daten aus.</p>
    <p><b>Inputs:</b></p>
    <ul>
        <li><b>input</b> - Ein Objekt, das zusätzliche Parameter für die API-Anfrage enthält.</li>
    </ul>
    <p><b>Outputs:</b></p>
    <ul>
        <li><b>payload</b> - Die verarbeiteten PV-Generationsdaten.</li>
        <li><b>payload.values</b> - Die einzelnen Generationsdaten (Array).</li>
    </ul>
</script>
