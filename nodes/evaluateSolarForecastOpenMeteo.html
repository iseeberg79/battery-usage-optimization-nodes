<script type="text/javascript">
    RED.nodes.registerType('@iseeberg79/EvaluateSolarForecastOpenMeteoNode', {
        category: 'function',
        color: '#a6bbcf',
        defaults: {
            name: { value: "" },
            baseUrl: { value: "https://api.open-meteo.com/v1/forecast" },
            lat: { value: 53.81 },
            lon: { value: 7.33 },
            azimuth: { value: 60 },
            tilt: { value: 50 },
            power: { value: 11 },
            efficiency: { value: 0.9 },
            models: { value: "icon_seamless" },
            timezone: { value: "GMT" },
            hourly: { value: ["shortwave_radiation", "shortwave_radiation_instant"] }
        },
        inputs: 1,
        outputs: 1,
        icon: "file.png",
        label: function() {
            return this.name || "Evaluate Solar Forecast OpenMeteo";
        }
    });
</script>

<script type="text/x-red" data-template-name="@iseeberg79/EvaluateSolarForecastOpenMeteoNode">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-baseUrl"><i class="fa fa-link"></i> Base URL</label>
        <input type="text" id="node-input-baseUrl" placeholder="https://api.open-meteo.com/v1/forecast">
    </div>
    <div class="form-row">
        <label for="node-input-lat"><i class="fa fa-map-marker"></i> Latitude</label>
        <input type="number" id="node-input-lat" placeholder="53.81">
    </div>
    <div class="form-row">
        <label for="node-input-lon"><i class="fa fa-map-marker"></i> Longitude</label>
        <input type="number" id="node-input-lon" placeholder="7.33">
    </div>
    <div class="form-row">
        <label for="node-input-azimuth"><i class="fa fa-compass"></i> Azimuth</label>
        <input type="number" id="node-input-azimuth" placeholder="60">
    </div>
    <div class="form-row">
        <label for="node-input-tilt"><i class="fa fa-angle-up"></i> Tilt</label>
        <input type="number" id="node-input-tilt" placeholder="50">
    </div>
    <div class="form-row">
        <label for="node-input-power"><i class="fa fa-bolt"></i> Power</label>
        <input type="number" id="node-input-power" placeholder="11">
    </div>
    <div class="form-row">
        <label for="node-input-efficiency"><i class="fa fa-percent"></i> Efficiency</label>
        <input type="number" id="node-input-efficiency" placeholder="0.9">
    </div>
    <div class="form-row">
        <label for="node-input-models"><i class="fa fa-cubes"></i> Models</label>
        <input type="text" id="node-input-models" placeholder="icon_seamless">
    </div>
    <div class="form-row">
        <label for="node-input-timezone"><i class="fa fa-clock-o"></i> Timezone</label>
        <input type="text" id="node-input-timezone" placeholder="GMT">
    </div>
    <div class="form-row">
        <label for="node-input-hourly"><i class="fa fa-clock"></i> Hourly</label>
        <input type="text" id="node-input-hourly" placeholder="shortwave_radiation,shortwave_radiation_instant">
    </div>
</script>

<script type="text/x-red" data-help-name="@iseeberg79/EvaluateSolarForecastOpenMeteoNode">
    <p>Dieser Node wertet die PV-Generationsdaten basierend auf den bereitgestellten Wettervorhersagen der Open-Meteo API aus.</p>
    <p><b>Inputs:</b></p>
    <ul>
        <li><b>input</b> - Ein Objekt, das zusätzliche Parameter für die API-Anfrage enthält.</li>
    </ul>
    <p><b>Outputs:</b></p>
    <ul>
        <li><b>payload</b> - Die verarbeiteten PV-Generationsdaten.</li>
        <li><b>payload.values</b> - Die einzelnen Generationsdaten (Array).</li>
    </ul>
</script>
